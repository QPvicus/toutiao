(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2084082a"],{"0031":function(t,e,n){},"0373":function(t,e,n){},"08e9":function(t,e){t.exports="data:image/png;base64,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"},1387:function(t,e,n){},"167e":function(t,e,n){},"230c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"atricle-container"},[n("van-nav-bar",{attrs:{title:"文章详情","left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.back()}}}),t.loading?n("article-page"):t.article.title?[n("div",{staticClass:"detail"},[n("h3",{staticClass:"title"},[t._v(t._s(t.article.title))]),n("article-auth",{attrs:{article:t.article}}),n("div",{ref:"article-content",staticClass:"markdown-body",domProps:{innerHTML:t._s(t.article.content)}}),n("van-divider",[t._v("正文结束")])],1),n("van-cell",{attrs:{title:"全部评论",border:!1}}),n("commend-list",{attrs:{source:t.article.art_id,list:t.commendList},on:{"onload-success":function(e){t.totalCommentCount=e.total_count},"click-reply":t.onReplyShow}}),n("article-footer",{attrs:{article:t.article,"total-commend-count":t.totalCommentCount},on:{"click-write":function(e){t.isPostShow=!0}}}),n("van-popup",{attrs:{position:"bottom","custom-style":"height: 30%;"},model:{value:t.isPostShow,callback:function(e){t.isPostShow=e},expression:"isPostShow"}},[n("commend-post",{attrs:{target:t.article.art_id},on:{"post-success":t.onPostSuccess}})],1)]:n("error-page",{on:{click:t.loadArticle}}),n("van-popup",{staticStyle:{height:"100%"},attrs:{position:"bottom"},model:{value:t.isReplyShow,callback:function(e){t.isReplyShow=e},expression:"isReplyShow"}},[t.isReplyShow?n("commend-reply",{attrs:{comment:t.currentComment},on:{close:function(e){t.isReplyShow=!1}}}):t._e()],1)],2)},a=[],o=(n("4160"),n("a630"),n("d81d"),n("a9e3"),n("3ca3"),n("159b"),n("96cf"),n("1da1")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-loading",t._b({staticClass:"loading",attrs:{color:"#1989fa",vertical:""}},"van-loading",t.$attrs,!1),[t._t("default",[t._v("加载中。。。")])],2)},i=[],s={name:"loadingPage"},u=s,l=(n("23b3"),n("2877")),d=Object(l["a"])(u,c,i,!1,null,null,null),m=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"author",on:{click:function(e){t.$router.push({name:"user",params:{userId:t.article.aut_id.toString()}})}}},[n("div",{staticClass:"base-info"},[n("van-image",{attrs:{src:t.article.aut_photo,round:"",width:"1rem",height:"1rem",fit:"cover"}}),n("div",{staticClass:"text"},[n("p",{staticClass:"name"},[t._v(t._s(t.article.aut_name))]),n("p",{staticClass:"time"},[t._v(t._s(t._f("relativeTime")(t.article.pubdate)))])])],1),n("follow-user",{staticStyle:{width:"30%"},attrs:{userId:t.article.aut_id},model:{value:t.article.is_followed,callback:function(e){t.$set(t.article,"is_followed",e)},expression:"article.is_followed"}})],1)},p=[],h=n("5530"),v=n("f50e"),g=n("2f62"),b={name:"articleAuth",props:{article:{type:Object,required:!0}},computed:Object(h["a"])({},Object(g["b"])(["user"])),components:{followUser:v["a"]}},O=b,x=(n("f5b4"),Object(l["a"])(O,f,p,!1,null,"537889ec",null)),w=x.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-list",{attrs:{finished:t.finished,"finished-text":"已展示所有评论",error:t.error,"error-text":"加载失败，请稍后重试","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("commend-item",{key:r,attrs:{comment:e},on:{"click-reply":function(e){return t.$emit("click-reply",e)}}})})),1)},y=[],j=(n("caad"),n("d3b7"),n("25f0"),n("2909")),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",{staticClass:"commend-item"},[n("van-image",{staticStyle:{"margin-right":"10px"},attrs:{slot:"icon",width:"30px",height:"30px",fit:"cover",round:"",src:t.comment.aut_photo},slot:"icon"}),n("span",{staticStyle:{color:"#466b9d"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.comment.aut_name))]),n("div",{attrs:{slot:"label"},slot:"label"},[n("p",{staticStyle:{color:"#363636"}},[t._v(t._s(t.comment.content))]),n("p",[n("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t._f("relativeTime")(t.comment.pubdate)))]),n("van-button",{attrs:{size:"mini",type:"default",plain:"",round:""},on:{click:function(e){return t.$emit("click-reply",t.comment)}}},[t._v("回复 "+t._s(t.comment.reply_count))])],1)]),n("div",{staticClass:"like-container",attrs:{slot:"right-icon"},slot:"right-icon"},[n("van-icon",{attrs:{name:t.comment.is_liking?"good-job":"good-job-o",color:t.comment.is_liking?"#e5645f":"",loading:t.commentLoading},on:{click:function(e){return t.onCommentLike(t.comment)}}},[t._v(t._s(t.comment.like_count>0?t.comment.like_count:" 赞"))])],1)],1)},S=[],C=n("b775"),I=function(t){return Object(C["a"])({method:"GET",url:"/app/v1_0/comments",params:t})},_=function(t){return Object(C["a"])({method:"POST",url:"/app/v1_0/comment/likings",data:{target:t}})},E=function(t){return Object(C["a"])({method:"DELETE",url:"/app/v1_0/comment/likings/".concat(t)})},T=function(t){return Object(C["a"])({method:"POST",url:"/app/v1_0/comments",data:t})},P={name:"CommendItem",props:{comment:{type:Object,required:!0}},data:function(){return{commentLoading:!1}},methods:{onCommentLike:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.commentLoading=!0,n.prev=1,!t.is_liking){n.next=7;break}return n.next=5,E(t.com_id.toString());case 5:n.next=9;break;case 7:return n.next=9,_(t.com_id.toString());case 9:t.is_liking=!t.is_liking,t.like_count+=t.is_liking?1:-1,e.$toast.success(t.is_liking?"点赞成功":"取消点赞"),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](1),e.$toast.fail("操作失败，稍后重试");case 17:e.commentLoading=!1;case 18:case"end":return n.stop()}}),n,null,[[1,14]])})))()}}},L=P,z=(n("7209"),Object(l["a"])(L,k,S,!1,null,"56a08df5",null)),Z=z.exports,F={name:"CommendList",props:{source:{type:[Number,String,Object],required:!0},list:{type:Array,default:function(){return[]}},type:{type:String,validator:function(t){return["a","c"].includes(t)},default:"a"}},data:function(){return{loading:!1,finished:!1,offset:null,limit:10,error:!1}},components:{CommendItem:Z},created:function(){this.loading=!0,this.onLoad()},methods:{onLoad:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({type:t.type,source:t.source.toString(),offset:t.offset,limit:t.limit});case 3:r=e.sent,a=r.data,o=a.data.results,(n=t.list).push.apply(n,Object(j["a"])(o)),t.$emit("onload-success",a.data),t.loading=!1,o.length?t.offset=a.data.last_id:t.finished=!0,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),t.error=!0,t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}},R=F,N=Object(l["a"])(R,A,y,!1,null,null,null),B=N.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("van-button",{staticStyle:{width:"160px"},attrs:{round:"",plain:"",type:"default",size:"small"},on:{click:function(e){return t.$emit("click-write")}}},[t._v("写评论")]),n("van-icon",{staticClass:"icon-comment",attrs:{name:"comment-o",badge:t.totalCommendCount}}),n("van-icon",{attrs:{"class-prefix":"toutiao",name:"shoucang",color:t.article.is_collected?"orange":""},on:{click:t.onCollect}}),n("van-icon",{attrs:{"class-prefix":"toutiao",name:"dianzan",color:1===t.article.attitude?"red":""},on:{click:t.onLike}})],1)},Y=[],V=n("2423"),J={name:"articleFooter",props:{article:{type:Object,required:!0},totalCommendCount:{type:Number,required:!0}},created:function(){},methods:{onCollect:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.article,!n.is_collected){e.next=7;break}return e.next=5,Object(V["c"])(n.art_id.toString());case 5:e.next=9;break;case 7:return e.next=9,Object(V["a"])(n.art_id.toString());case 9:n.is_collected=!n.is_collected,t.$toast.success(n.is_collected?"收藏成功":"取消收藏"),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0),t.$toast.fail("操作失败");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()},onLike:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.article,1!==n.attitude){e.next=7;break}return e.next=5,Object(V["d"])(n.art_id.toString());case 5:e.next=9;break;case 7:return e.next=9,Object(V["b"])(n.art_id.toString());case 9:n.attitude=-1===n.attitude?1:-1,t.$toast.success(1===n.attitude?"点赞成功":"取消点赞"),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0),t.$toast.fail("操作失败");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}},M=J,D=(n("b4cf"),Object(l["a"])(M,G,Y,!1,null,"585b8553",null)),U=D.exports,H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"error-page"},[r("img",{attrs:{src:n("08e9"),alt:"no-network"}}),r("p",{staticClass:"text"},[t._v("亲，网络不给力")]),r("van-button",{staticClass:"btn",attrs:{size:"small",type:"default"}},[t._v("点击重试")])],1)},q=[],K={name:"errorPage",methods:{}},Q=K,X=(n("b485"),Object(l["a"])(Q,H,q,!1,null,"1895a1de",null)),W=X.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commend-post"},[n("van-field",{staticClass:"post-field",attrs:{autosize:"",rows:"2",type:"textarea",placeholder:"请输入留言",maxlength:"50","show-word-limit":""},model:{value:t.message,callback:function(e){t.message="string"===typeof e?e.trim():e},expression:"message"}}),n("van-button",{staticClass:"post-btn",attrs:{disabled:!t.message.length},on:{click:t.onPost}},[t._v("发布")])],1)},tt=[],et={name:"",components:{},props:{target:{type:[Number,String,Object],required:!0}},inject:{articleId:{type:[Number,Object,String],default:null}},data:function(){return{message:""}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onPost:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$toast.loading({message:"发布中...",forbidClick:!0,duration:0}),e.prev=1,e.next=4,T({target:t.target.toString(),content:t.message,art_id:t.articleId?t.articleId.toString():t.articleId});case 4:n=e.sent,r=n.data,t.messagea="",t.$emit("post-success",r.data),t.$toast.success("发布成功"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.$toast.fail("发布失败");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()}}},nt=et,rt=(n("79a1"),Object(l["a"])(nt,$,tt,!1,null,"573f9110",null)),at=rt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commend-reply"},[n("van-nav-bar",{attrs:{title:t.comment.reply_count>0?t.comment.reply_count+"条回复":"暂无回复"}},[n("van-icon",{attrs:{slot:"left",name:"cross"},on:{click:function(e){return t.$emit("close")}},slot:"left"})],1),n("div",{staticClass:"scroll-wrap"},[n("commend-item",{attrs:{comment:t.comment}}),n("van-cell",{attrs:{title:"全部回复"}}),n("commend-list",{attrs:{source:t.comment.com_id,type:"c",list:t.commentList}})],1),n("div",{staticClass:"post-wrap"},[n("van-button",{staticClass:"post-btn",attrs:{round:"",size:"small"},on:{click:function(e){t.isPostShow=!0}}},[t._v("发布")])],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.isPostShow,callback:function(e){t.isPostShow=e},expression:"isPostShow"}},[n("commend-post",{attrs:{target:t.comment.com_id},on:{"post-success":t.onPostSuccess}})],1)],1)},ct=[],it={name:"",components:{CommendItem:Z,CommendList:B,CommendPost:at},props:{comment:{type:Object,required:!0,default:function(){}}},data:function(){return{isPostShow:!1,commentList:[]}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onPostSuccess:function(t){this.comment.reply_count++,this.isPostShow=!1,this.commentList.unshift(t.new_obj)}}},st=it,ut=(n("ad0a"),Object(l["a"])(st,ot,ct,!1,null,"d63676da",null)),lt=ut.exports,dt=n("28a2"),mt={name:"articleIndex",data:function(){return{loading:!0,article:{},totalCommentCount:0,isPostShow:!1,commendList:[],isReplyShow:!1,currentComment:{}}},provide:function(){return{articleId:this.articleId}},props:{articleId:{type:[String,Number,Object],required:!0}},components:{articlePage:m,articleAuth:w,commendList:B,articleFooter:U,errorPage:W,commendPost:at,commendReply:lt},created:function(){this.loadArticle()},methods:{loadArticle:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,Object(V["e"])(t.articleId);case 4:n=e.sent,r=n.data,t.article=r.data,setTimeout((function(){t.addImagePreview()}),0),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0),t.$toast.fail("获取数据失败");case 14:t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))()},addImagePreview:function(){var t=this.$refs["article-content"].querySelectorAll("img"),e=Array.from(t).map((function(t){return t.src}));t.forEach((function(t,n){t.addEventListener("click",(function(){return Object(dt["a"])({images:e,startPosition:n})}))}))},onPostSuccess:function(t){this.isPostShow=!1,this.commendList.unshift(t.new_obj)},onReplyShow:function(t){this.currentComment=t,this.isReplyShow=!0}}},ft=mt,pt=(n("9568"),Object(l["a"])(ft,r,a,!1,null,"e96d5cc4",null));e["default"]=pt.exports},"23b3":function(t,e,n){"use strict";var r=n("7231"),a=n.n(r);a.a},2423:function(t,e,n){"use strict";n.d(e,"i",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return f}));var r=n("b775"),a=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_1/articles",params:t})},o=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/articles/".concat(t)})},c=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/article/collections",data:{target:t}})},i=function(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/article/collections/".concat(t)})},s=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/article/dislikes",data:{target:t}})},u=function(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/article/dislikes/".concat(t)})},l=function(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/users/".concat(t,"/articles"),params:e})},d=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/articles",params:t})},m=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/article/collections",params:t})},f=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/histories",params:t})}},2909:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){if(Array.isArray(t))return r(t)}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("fb6a"),n("25f0");function c(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return a(t)||o(t)||c(t)||i()}},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),o=n("9bdd"),c=n("e95a"),i=n("50c4"),s=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,m,f,p=a(t),h="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,b=void 0!==g,O=u(p),x=0;if(b&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==O||h==Array&&c(O))for(e=i(p.length),n=new h(e);e>x;x++)f=b?g(p[x],x):p[x],s(n,x,f);else for(d=O.call(p),m=d.next,n=new h;!(l=m.call(d)).done;x++)f=b?o(d,g,[l.value,x],!0):l.value,s(n,x,f);return n.length=x,n}},5470:function(t,e,n){"use strict";var r=n("7bfa"),a=n.n(r);a.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),o="["+a+"]",c=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var o,c;return a&&"function"==typeof(o=e.constructor)&&o!==n&&r(c=o.prototype)&&c!==n.prototype&&a(t,c),t}},7209:function(t,e,n){"use strict";var r=n("d83b"),a=n.n(r);a.a},7231:function(t,e,n){},"79a1":function(t,e,n){"use strict";var r=n("1387"),a=n.n(r);a.a},"7bfa":function(t,e,n){},9568:function(t,e,n){"use strict";var r=n("0373"),a=n.n(r);a.a},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),o=n("1c7e"),c=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:c},{from:a})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),o=n("94ca"),c=n("6eeb"),i=n("5135"),s=n("c6b6"),u=n("7156"),l=n("c04e"),d=n("d039"),m=n("7c73"),f=n("241c").f,p=n("06cf").f,h=n("9bf2").f,v=n("58a8").trim,g="Number",b=a[g],O=b.prototype,x=s(m(O))==g,w=function(t){var e,n,r,a,o,c,i,s,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(o=u.slice(2),c=o.length,i=0;i<c;i++)if(s=o.charCodeAt(i),s<48||s>a)return NaN;return parseInt(o,r)}return+u};if(o(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var A,y=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof y&&(x?d((function(){O.valueOf.call(n)})):s(n)!=g)?u(new b(w(e)),n,y):w(e)},j=r?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;j.length>k;k++)i(b,A=j[k])&&!i(y,A)&&h(y,A,p(b,A));y.prototype=O,O.constructor=y,c(a,g,y)}},ad0a:function(t,e,n){"use strict";var r=n("167e"),a=n.n(r);a.a},b485:function(t,e,n){"use strict";var r=n("c6d2"),a=n.n(r);a.a},b4cf:function(t,e,n){"use strict";var r=n("0031"),a=n.n(r);a.a},c24f:function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"j",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return m})),n.d(e,"g",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return h}));n("d3b7"),n("25f0");var r=n("b775"),a=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/authorizations",data:t})},o=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/sms/codes/".concat(t)})},c=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user"})},i=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/channels"})},s=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:t}})},u=function(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(t)})},l=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/users/".concat(t)})},d=function(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followings",params:e,data:{target:t.toString()}})},m=function(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followers",params:e,data:{target:t.toString()}})},f=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/profile"})},p=function(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:t})},h=function(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})}},c6d2:function(t,e,n){},d81d:function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").map,o=n("1dde"),c=n("ae40"),i=o("map"),s=c("map");r({target:"Array",proto:!0,forced:!i||!s},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},d83b:function(t,e,n){},f50e:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",{staticClass:"follow-btn",attrs:{type:t.value?"defalut":"info",size:"small",round:"",loading:t.loading},on:{click:function(e){return e.stopPropagation(),t.onFollow(e)}}},[t._t("default",[t._v(t._s(t.value?"已关注":"关注"))])],2)},a=[],o=(n("a9e3"),n("96cf"),n("1da1")),c=n("c24f"),i={name:"followUser",props:{userId:{type:[Object,String,Number],required:!0},value:{type:Boolean}},data:function(){return{loading:!1}},methods:{onFollow:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,e.prev=1,!t.value){e.next=7;break}return e.next=5,Object(c["j"])(t.userId);case 5:e.next=9;break;case 7:return e.next=9,Object(c["a"])(t.userId);case 9:t.$emit("input",!t.value),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](1),r="操作失败，稍后重试",400===(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(r="你不能关注你自己"),t.$toast(r);case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e,null,[[1,12]])})))()}}},s=i,u=(n("5470"),n("2877")),l=Object(u["a"])(s,r,a,!1,null,"a51295ec",null);e["a"]=l.exports},f5b4:function(t,e,n){"use strict";var r=n("f6e6"),a=n.n(r);a.a},f6e6:function(t,e,n){},fb6a:function(t,e,n){"use strict";var r=n("23e7"),a=n("861d"),o=n("e8b5"),c=n("23cb"),i=n("50c4"),s=n("fc6a"),u=n("8418"),l=n("b622"),d=n("1dde"),m=n("ae40"),f=d("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var n,r,l,d=s(this),m=i(d.length),f=c(t,m),p=c(void 0===e?m:e,m);if(o(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(d,f,p);for(r=new(void 0===n?Array:n)(g(p-f,0)),l=0;f<p;f++,l++)f in d&&u(r,l,d[f]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-2084082a.8574f743.js.map