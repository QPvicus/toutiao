(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3d58042"],{"19af":function(t,e,a){},2423:function(t,e,a){"use strict";a.d(e,"i",(function(){return r})),a.d(e,"e",(function(){return i})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"g",(function(){return f})),a.d(e,"h",(function(){return p}));var n=a("b775"),r=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_1/articles",params:t})},i=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/articles/".concat(t)})},c=function(t){return Object(n["a"])({method:"POST",url:"/app/v1_0/article/collections",data:{target:t}})},o=function(t){return Object(n["a"])({method:"DELETE",url:"/app/v1_0/article/collections/".concat(t)})},s=function(t){return Object(n["a"])({method:"POST",url:"/app/v1_0/article/dislikes",data:{target:t}})},l=function(t){return Object(n["a"])({method:"DELETE",url:"/app/v1_0/article/dislikes/".concat(t)})},u=function(t,e){return Object(n["a"])({method:"GET",url:"/app/v1_0/users/".concat(t,"/articles"),params:e})},d=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/articles",params:t})},f=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/article/collections",params:t})},p=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/histories",params:t})}},2909:function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function r(t){if(Array.isArray(t))return n(t)}a.d(e,"a",(function(){return s}));a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("fb6a"),a("25f0");function c(t,e){if(t){if("string"===typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return r(t)||i(t)||c(t)||o()}},"4df4":function(t,e,a){"use strict";var n=a("0366"),r=a("7b0b"),i=a("9bdd"),c=a("e95a"),o=a("50c4"),s=a("8418"),l=a("35a1");t.exports=function(t){var e,a,u,d,f,p,v=r(t),m="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,b=void 0!==g,_=l(v),y=0;if(b&&(g=n(g,h>2?arguments[2]:void 0,2)),void 0==_||m==Array&&c(_))for(e=o(v.length),a=new m(e);e>y;y++)p=b?g(v[y],y):v[y],s(a,y,p);else for(d=_.call(v),f=d.next,a=new m;!(u=f.call(d)).done;y++)p=b?i(d,g,[u.value,y],!0):u.value,s(a,y,p);return a.length=y,a}},"67f3":function(t,e,a){"use strict";var n=a("9eaf"),r=a.n(n);r.a},"8db1":function(t,e,a){"use strict";var n=a("19af"),r=a.n(n);r.a},"97ad":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-articles"},[a("van-nav-bar",{staticClass:"page-navbar",attrs:{"left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.back()}}}),a("van-tabs",{staticClass:"nav-tabs",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"我的收藏",to:"/my-article/collect",replace:""}},[a("collect-article")],1),a("van-tab",{attrs:{title:"我的历史",to:"/my-article/history",replace:""}},[a("history-article")],1),a("van-tab",{attrs:{title:"我的作品",to:"/my-article",replace:""}},[a("user-article")],1)],1)],1)},r=[],i=(a("c975"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-container"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return a("van-cell",{key:n,on:{click:function(a){t.$router.push({name:"article",params:{articleId:e.art_id.toString()}})}}},[a("article-item",{attrs:{article:e}})],1)})),1)],1)}),c=[],o=a("2909"),s=(a("96cf"),a("1da1")),l=a("2423"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-item",on:{click:function(e){t.$router.push({name:"article",params:{articleId:t.article.art_id.toString()}})}}},[a("div",{staticClass:"author"},[a("van-image",{staticClass:"avatar",attrs:{round:"",fit:"cover",src:"https://img.yzcdn.cn/vant/cat.jpeg"}}),a("div",[a("div",{staticClass:"name"},[t._v(t._s(t.article.aut_name))]),a("div",{staticClass:"date"},[t._v(t._s(t._f("relativeTime")(t.article.pubdate)))])])],1),t.article.cover.type?a("div",{staticClass:"title-cover"},[a("div",{staticClass:"title"},[t._v(t._s(t.article.title))]),a("van-image",{staticClass:"cover",attrs:{fit:"cover",src:t.article.cover.images[0]}})],1):a("div",{staticClass:"title"},[t._v(t._s(t.article.title))]),a("div",{staticClass:"action"},[a("div",{staticClass:"action-item"},[a("van-icon",{staticClass:"comment-icon",attrs:{name:"comment-o"}}),a("span",[t._v(t._s(t.article.comm_count))])],1),a("div",{staticClass:"action-item"},[a("van-icon",{attrs:{name:"good-job-o"}}),a("span",[t._v(t._s(t.article.like_count))])],1),a("div",{staticClass:"action-item"},[a("van-icon",{attrs:{name:"star-o"}}),a("span",[t._v(t._s(t.article.collect_count))])],1)])])},d=[],f={name:"",components:{},props:{article:{type:Object,required:!0}},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{}},p=f,v=(a("8db1"),a("2877")),m=Object(v["a"])(p,u,d,!1,null,"f8ce96a8",null),h=m.exports,g={name:"UserArticle",components:{articleItem:h},props:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,per_page:10}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["j"])({page:t.page,per_page:t.per_page});case 3:n=e.sent,r=n.data,i=r.data.results,(a=t.list).push.apply(a,Object(o["a"])(i)),t.loading=!1,i.length?t.page++:t.finished=!0,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),t.$toast.fail("获取数据失败");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},b=g,_=Object(v["a"])(b,i,c,!1,null,"61054dc6",null),y=_.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collect-container"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return a("van-cell",{key:n,on:{click:function(a){t.$router.push({name:"article",params:{articleId:e.art_id.toString()}})}}},[a("article-item",{attrs:{article:e}})],1)})),1)],1)},O=[],w={name:"UserArticle",components:{articleItem:h},props:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,per_page:10}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["g"])({page:t.page,per_page:t.per_page});case 3:n=e.sent,r=n.data,i=r.data.results,(a=t.list).push.apply(a,Object(o["a"])(i)),t.loading=!1,i.length?t.page++:t.finished=!0,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),t.$toast.fail("获取数据失败");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},x=w,k=Object(v["a"])(x,j,O,!1,null,"21c51d74",null),A=k.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"history-container"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return a("van-cell",{key:n,on:{click:function(a){t.$router.push({name:"article",params:{articleId:e.art_id.toString()}})}}},[a("article-item",{attrs:{article:e}})],1)})),1)],1)},E=[],$={name:"UserArticle",components:{articleItem:h},props:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,per_page:10}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["h"])({page:t.page,per_page:t.per_page});case 3:n=e.sent,r=n.data,i=r.data.results,(a=t.list).push.apply(a,Object(o["a"])(i)),t.loading=!1,i.length?t.page++:t.finished=!0,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),t.$toast.fail("获取数据失败");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},S=$,T=Object(v["a"])(S,C,E,!1,null,"6acabfa2",null),I=T.exports,L={name:"UserArticles",components:{userArticle:y,collectArticle:A,historyArticle:I},props:{type:{type:String}},data:function(){var t=["collect","history"].indexOf(this.type);return-1===t&&(t=2),{active:t}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},beforeRouteLeave:function(t,e,a){console.log(t),"article"===t.name?this.$store.commit("addCache","UserArticles"):this.$store.commit("removeCache","UserArticles"),a()}},R=L,U=(a("67f3"),Object(v["a"])(R,n,r,!1,null,"7ebc993d",null));e["default"]=U.exports},"9eaf":function(t,e,a){},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),c=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:c},{from:r})},fb6a:function(t,e,a){"use strict";var n=a("23e7"),r=a("861d"),i=a("e8b5"),c=a("23cb"),o=a("50c4"),s=a("fc6a"),l=a("8418"),u=a("b622"),d=a("1dde"),f=a("ae40"),p=d("slice"),v=f("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),h=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var a,n,u,d=s(this),f=o(d.length),p=c(t,f),v=c(void 0===e?f:e,f);if(i(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(d,p,v);for(n=new(void 0===a?Array:a)(g(v-p,0)),u=0;p<v;p++,u++)p in d&&l(n,u,d[p]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-b3d58042.d4bfac46.js.map